\documentclass[a4paper]{article}

\usepackage{numprint}

\usepackage{tabstackengine,xcolor,rotating}
\newcommand\blackcard[2]{%
    \begingroup\fboxsep=0pt\relax
    \fbox{\tabbedCenterstack{%
    \hspace{3pt}\scriptsize$#2$ && \\ &\makebox[10pt]{#1}& \\ &&\rotatebox[origin=c]{180}{\scriptsize$#2$}\hspace{3pt}}}%
    \endgroup}
\newcommand\redcard[2]{%
    \begingroup\fboxsep=0pt\relax
    \fbox{\color{red}\tabbedCenterstack{%
    \hspace{3pt}\scriptsize$#2$ && \\ &\makebox[10pt]{#1}& \\ &&\rotatebox[origin=c]{180}{\scriptsize$#2$}\hspace{3pt}}}%
    \endgroup}
\newcommand\bluecard[2]{%
    \begingroup\fboxsep=0pt\relax
    \fbox{\color{blue}\tabbedCenterstack{%
    \hspace{3pt}\scriptsize$#2$ && \\ &\makebox[10pt]{#1}& \\ &&\rotatebox[origin=c]{180}{\scriptsize$#2$}\hspace{3pt}}}%
    \endgroup}


\begin{document}

\begin{titlepage}
    \title{Solitario di Prina}
    \author{Gallina Roberto}
    \date{13/11/2022}
    \maketitle
\end{titlepage}

\newpage

\tableofcontents

\newpage

\section{Premesse}
In tutto il documento ci si riferirà a il \emph{mazzo (Deck)}, esso è da intendere come un mazzo di 40 carte, divise in 4 semi. Per convenzione durante il documento si userà il mazzo francese le cui carte sono:

\begin{itemize}
    \item l'asso
    \item il due
    \item il tre
    \item il quattro
    \item il cinque
    \item il sei
    \item il sette
    \item il fante (J)
    \item la regina (Q)
    \item il re (K)
\end{itemize}

\noindent
Mentre i semi sono:

\begin{itemize}
    \item i cuori
    \item i quadri
    \item i fiori
    \item i picche
\end{itemize}

\noindent
Il mazzo è quindi composta dalle carte sottostanti:

\begin{figure}[h]
    \centering
    \scalebox{0.8}{
        \redcard{1}{\heartsuit}
        \redcard{2}{\heartsuit}
        \redcard{3}{\heartsuit}
        \redcard{4}{\heartsuit}
        \redcard{5}{\heartsuit}
        \redcard{6}{\heartsuit}
        \redcard{7}{\heartsuit}
        \redcard{J}{\heartsuit}
        \redcard{Q}{\heartsuit}
        \redcard{K}{\heartsuit}
    }
    \scalebox{0.8}{
        \redcard{1}{\diamondsuit}
        \redcard{2}{\diamondsuit}
        \redcard{3}{\diamondsuit}
        \redcard{4}{\diamondsuit}
        \redcard{5}{\diamondsuit}
        \redcard{6}{\diamondsuit}
        \redcard{7}{\diamondsuit}
        \redcard{J}{\diamondsuit}
        \redcard{Q}{\diamondsuit}
        \redcard{K}{\diamondsuit}
    }
    \scalebox{0.8}{
        \blackcard{1}{\clubsuit}
        \blackcard{2}{\clubsuit}
        \blackcard{3}{\clubsuit}
        \blackcard{4}{\clubsuit}
        \blackcard{5}{\clubsuit}
        \blackcard{6}{\clubsuit}
        \blackcard{7}{\clubsuit}
        \blackcard{J}{\clubsuit}
        \blackcard{Q}{\clubsuit}
        \blackcard{K}{\clubsuit}
    }
    \scalebox{0.8}{
        \blackcard{1}{\spadesuit}
        \blackcard{2}{\spadesuit}
        \blackcard{3}{\spadesuit}
        \blackcard{4}{\spadesuit}
        \blackcard{5}{\spadesuit}
        \blackcard{6}{\spadesuit}
        \blackcard{7}{\spadesuit}
        \blackcard{J}{\spadesuit}
        \blackcard{Q}{\spadesuit}
        \blackcard{K}{\spadesuit}
    }
    \caption{Mazzo}
\end{figure}

In tutto il documento ci si riferirà a la \emph{sequenza}, essa rappresenta l'ordine delle carte nel mazzo mescolato.

\newpage

\section{Funzionamento del gioco}

Il gioco è molto semplice, dato un mazzo da gioco mischiato, si tengono tutte le carte coperte in pila; si scopre le prime tre carte.
Nel caso la prima e la terza carta hanno stesso valore o stesso seme, allora la seconda carta viene spostasta sopra la prima (avvicinando la terza).
Successivamente si scopre un'altra carta di ricomincia a controllare dall'inizio.

\vspace{0.5cm}
Ecco un esempio del funzionamento

\begin{figure}[h]
    \centering
    \scalebox{0.8}{
        \blackcard{1}{\spadesuit}
    }
    \\
    \vspace{0.5cm}
    \scalebox{0.8}{
        \blackcard{1}{\spadesuit}
        \redcard{K}{\diamondsuit}
    }
    \\
    \vspace{0.5cm}
    \scalebox{0.8}{
        \blackcard{1}{\spadesuit}
        \redcard{K}{\diamondsuit}
        \blackcard{1}{\clubsuit}
    }\\
    \vspace{0.5cm}
    \scalebox{0.8}{
        \bluecard{1}{\spadesuit}
        \redcard{K}{\diamondsuit}
        \bluecard{1}{\clubsuit}
    }
    \\
    \vspace{0.2cm}
    Avendo lo stesso valore (1), la carte centrale sale sopra la prima
    \\
    \vspace{0.5cm}
    \scalebox{0.8}{
        \redcard{K}{\diamondsuit}
        \blackcard{1}{\clubsuit}
    }
    \caption{Esempio di funzionamento}
\end{figure}

\newpage

\subsection{Sequenza corretta}

Viene definita \emph{sequenza corretta}, una sequenza, in cui terminate le carte si hanno due esattamente due pile di carte.

% Esempio 

\subsection{Sequenza perfetta}

Viene definita \emph{sequenza perfetta}, una sequenza corretta, in cui è esattamente l'ultima carta a formare la seconda pila; per cui terminate le carte di hanno esattamente due pile di carte in cui la seconda pila ha esattamente una carta


% Esempio 


\subsection{Sequenza n-perfect}

Viene definita \emph{sequenza n-perfect}, una sequenza, in cui terminate le carte non ci sono pile con più di un carta, ossia il numero delle pile è uguale al numero delle carte

\vspace{0.5cm}
Eccone un esempio
\begin{figure}[h]
    \centering
    \scalebox{0.8}{
        \redcard{1}{\heartsuit}
        \redcard{1}{\diamondsuit}
        \blackcard{2}{\clubsuit}
        \blackcard{2}{\spadesuit}
        \redcard{3}{\heartsuit}
        \redcard{3}{\diamondsuit}
        \blackcard{4}{\clubsuit}
        \blackcard{4}{\spadesuit}
        \redcard{5}{\heartsuit}
        \redcard{5}{\diamondsuit}
    }
    \scalebox{0.8}{
        \blackcard{6}{\clubsuit}
        \blackcard{6}{\spadesuit}
        \redcard{7}{\heartsuit}
        \redcard{7}{\diamondsuit}
        \blackcard{J}{\clubsuit}
        \blackcard{J}{\spadesuit}
        \redcard{Q}{\heartsuit}
        \redcard{Q}{\diamondsuit}
        \blackcard{K}{\clubsuit}
        \blackcard{K}{\spadesuit}
    }
    \scalebox{0.8}{
        \redcard{2}{\heartsuit}
        \redcard{2}{\diamondsuit}
        \blackcard{1}{\clubsuit}
        \blackcard{1}{\spadesuit}
        \redcard{4}{\heartsuit}
        \redcard{4}{\diamondsuit}
        \blackcard{3}{\clubsuit}
        \blackcard{3}{\spadesuit}
        \redcard{6}{\heartsuit}
        \redcard{6}{\diamondsuit}
    }
    \scalebox{0.8}{
        \blackcard{5}{\clubsuit}
        \blackcard{5}{\spadesuit}
        \redcard{J}{\heartsuit}
        \redcard{J}{\diamondsuit}
        \blackcard{7}{\clubsuit}
        \blackcard{7}{\spadesuit}
        \redcard{K}{\heartsuit}
        \redcard{K}{\diamondsuit}
        \blackcard{Q}{\clubsuit}
        \blackcard{Q}{\spadesuit}
    }
    \caption{Esempio di sequeza n-perferct}
\end{figure}

\newpage

\section{Statistiche}



\newpage

\section{Implementazione}


\newpage

\section{Conclusioni}

\end{document}